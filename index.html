<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Telegram Live Updates</title>
  <style>
    body {
      background:#0f172a;
      color:#f8fafc;
      font-family:Arial;
      margin:0;
      padding:20px;
    }
    h1 { text-align:center }
    .post {
      background:#020617;
      border-radius:10px;
      padding:15px;
      margin:15px auto;
      max-width:600px;
      box-shadow:0 0 10px rgba(0,0,0,.4);
    }
    .date {
      font-size:12px;
      color:#94a3b8;
      margin-bottom:8px;
    }
    a {
      color:#38bdf8;
      text-decoration:none;
      font-weight:bold;
    }
  </style>
</head>
<body>

<h1>ðŸ“¢ Telegram Live Updates</h1>
<div id="posts">Loading...</div>

<script>
const API = "https://telegram-bot-server-hdja.onrender.com/data";

async function loadPosts(){
  try{
    const res = await fetch(API);
    const data = await res.json();

    if(data.length === 0){
      document.getElementById("posts").innerHTML = "No posts yet";
      return;
    }

    document.getElementById("posts").innerHTML = data.map(p => `
      <div class="post">
        <div class="date">${new Date(p.date).toLocaleString()}</div>
        <div>${p.text}</div>
        <a href="${p.link}" target="_blank">Open in Telegram â†’</a>
      </div>
    `).join("");
  }catch(err){
    document.getElementById("posts").innerText = "Failed to load posts";
  }
}

loadPosts();
setInterval(loadPosts, 15000);
</script>

</body>
</html>
